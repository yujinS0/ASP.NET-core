# Stateful vs Stateless 서비스

## Stateful 서비스

- **정의**: Stateful 서비스는 클라이언트의 상태 정보를 서버가 계속해서 유지하는 서비스 유형입니다.
- **작동 방식**: 서버는 클라이언트의 이전 상태를 저장하고 이를 기반으로 향후 요청을 처리합니다.
- **특징**:
  - **TCP의 3-way handshaking**과 같은 연결지향적인 프로토콜 사용.
     ![TCP의 3-way handshaking](https://github.com/yujinS0/ASP.NETcore-Study/assets/87336788/7540bcbc-fc50-4696-ac2e-7c6eedd4fabe)

    + (1)클라이언트는 서버에 SYN(접속 요청 메세지) 전송 후 SYN_SENT 상태
    + (2)서버는 SYN 요청을 받고, 클라이언트에 요청을 수락하는 SYN/ACK를 전송하고 SYN_RECEIVED 상태
    + (3)클라이언트는 서버에게 수락 확인으로 ACK 또 보내고, 수신 받은 서버는 ESTABLISHED 상태
    + (4)세션 상태가 ESTABLISHED가 되고, 서버와 클라이언트는 서로 데이터를 주고 받을 수 있는 상태
  - 세션 또는 쿠키를 사용하여 클라이언트 상태 정보를 유지.
  - 서버 장애 시 클라이언트의 상태 복구가 필요할 수 있음.
- **문제점**:
  - 서버가 다운될 경우 상태 정보의 복구가 어려움.
  - 확장성 문제로 인해 대규모 트래픽 처리에 어려움이 있을 수 있음.

## Stateless 서비스

- **정의**: Stateless 서비스는 서버가 클라이언트의 상태 정보를 저장하지 않는 서비스 유형입니다.
- **작동 방식**: 각 요청이 독립적으로 처리되며, 요청에 필요한 모든 정보는 클라이언트 측에서 제공됩니다.
- **특징**:
  - **HTTP**, **REST API**와 같은 무상태 프로토콜 사용.
  - 서버는 클라이언트의 상태 정보를 저장하지 않으므로 각 요청은 서버에 완전히 독립적입니다.
  - 확장성이 높아 대규모 분산 시스템에 적합.
- **문제점**:
  - 모든 요청에 클라이언트 정보를 포함해야 하므로, 데이터 전송량이 증가할 수 있음.

## RESTful API

- **정의**: RESTful API는 Representational State Transfer 원칙을 따르는 API 설계 방식입니다.
- **구성 요소**:
  - **자원 (Resource)**: 서버에 존재하는 모든 데이터 또는 서비스.
  - **메소드 (Method)**: 자원에 대한 행위(예: GET, POST, PUT, DELETE).
  - **표현 (Representation)**: 자원의 상태를 전달하는 데 사용되는 데이터 포맷(JSON, XML 등).
- **특징**:
  - 클라이언트-서버 구조.
  - 무상태성(Statelessness): 각 요청은 독립적으로 처리됩니다.
  - 캐시 가능(Cacheable): 응답은 캐시가 가능하며, 성능 향상에 기여할 수 있습니다.
  - 계층화(Layered System): 클라이언트는 종단 서버에 직접 연결되지 않고, 중간 서버를 통해 요청을 전달할 수 있습니다.
  - 일관된 인터페이스(Uniform Interface): 표준화된 방식으로 API를 구현함으로써 다양한 클라이언트에서 사용할 수 있습니다.
- **이점**:
  - 시스템 간의 결합도를 낮추어, 각 시스템의 독립적인 진화를 촉진합니다.
  - 다양한 클라이언트의 접근을 용이하게 합니다(예: 웹, 모바일, 기타 서버).
